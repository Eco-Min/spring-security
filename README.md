# 고급 설정

## 이중화 설정
-  이중화는 시스템의 부하를 분산하고, 단일 실패 지점(Single Point of Failure, SPOF) 없이 서비스를 지속적으로 제공하는 아키텍처를    
구현하는 것을 목표로 하며 스프링 시큐리티는 이러한 이중화 환경에서 인증, 권한 부여, 세션 관리 등의 보안 기능을 제공한다
-  스프링 시큐리티는 사용자 세션을 안전하게 관리하며 이중화된 환경에서 세션 정보를 공유할 수 있는 메커니즘을 제공하며 대표적으로    
레디스 같은 분산캐시를 사용하여 세션 정보를 여러 서버 간에 공유할 수 있다

> 즉, 여러대의 서버가 켜져 있으면 각 서버마다 세션을 가지고 있는데 이때 서비스 하나가 죽게 되면 세션 정보가 날아가게 되는데   
> 이를 방지하기 위해 세션서버(레디스)를 두어 세션 정보를 저장하게 된다

## 레디스 세션 서버
### 로컬 환경 (Linux 기준)
- 대부분의 Linux 에서 apt 또는 yum을 사용하여 레디스를 설치할 수 있다    
ex) sudo apt-get install redis-server, sudo yum install redis ..
-  설치 후 sudo service redis-server start 명령어로 레디스 서버를 시작한다
### Docker를 사용한 설치
-  Docker 가 설치된 환경에서 다음 명령어로 레디스 컨테이너를 실행할 수 있다   
ex) docker run --name redis -p 6379:6379 -d redis
- 이 명령어는 레디스 이미지를 다운로드하고, 이름이 redis인 컨테이너를 백그라운드에서 실행한다
- 포트 6379를 사용하여 로컬 호스트와 연결한다